{%- liquid
  assign placeholder_size = placeholder_size | default: '1x1'
  assign placeholder_url = '_' | append: placeholder_size | append: '.'

  assign mobile_img = mobile_img | default: img
  assign max_width = max_width | default: 1944

  assign = img_placeholder = img | img_url: placeholder_size
  assign = img_srcset = img_placeholder | replace: placeholder_url, '_{width}x.'

  assign = mobile_placeholder = mobile_img | img_url: placeholder_size
  assign = mobile_srcset = mobile_placeholder | replace: placeholder_url, '_{width}x.'
-%}

{%- if section.settings.adapt_height_first_image and section.settings.image != blank -%}
  {%- style -%}
    #Banner-{{ section.id }}::before, #Banner-{{ section.id }} .banner__media::before {
      padding-bottom: {{ 1 | divided_by: section.settings.image.aspect_ratio | times: 100 }}%;
      content: '';
      display: block;
    }
  {%- endstyle -%}
{%- endif -%}

{%- comment -%}theme-check-disable{%- endcomment -%}
  <img srcset="{{ mobile_img | img_url: '375x' }} 375w,
    {{ mobile_img | img_url: '750x' }} 750w,
    {{ mobile_img | img_url: '1100x' }} 1100w,
    {{ img | img_url: '1500x' }} 1500w,
    {{ img | img_url: '1780x' }} 1780w,
    {{ img | img_url: '2000x' }} 2000w,
    {{ img | img_url: '2800x' }} 2800w"
    sizes="(min-width: 750px) 50vw, 100vw"
    src="{{ img | img_url: '750x' }}"
    loading="lazy"
    alt="{{ img.alt | escape }}"
    width="{{ img.width }}"
    height="{{ img.width | divided_by: section.settings.image.aspect_ratio }}"
  >
{% comment %}theme-check-enable{% endcomment %}